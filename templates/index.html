<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Portfolio</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body class="portfolio">

  <header>
    <button id="menu-toggle">â˜°</button>
    <h1>My Portfolio</h1>
    <div id="theme-toggle">ðŸŒž/ðŸŒ™</div>
  </header>

  <nav id="sidebar">
    <ul>
      {% for section in content %}
        <li><a href="#{{ section }}">{{ section.replace('_', ' ') | capitalize }}</a></li>
      {% endfor %}
    </ul>
  </nav>

  <main>
    {% for section, items in content.items() %}
      <section id="{{ section }}">
        <h2>{{ section.replace('_', ' ') | capitalize }}</h2>
        {% for item in items %}
          <div class="card">
            <h3>{{ item.title }}</h3>
            <p>{{ item.description }}</p>
            {% if item.image %}
              <img src="{{ url_for('uploaded_file', filename='images/' + item.image) }}" alt="{{ item.title }}">
            {% endif %}
            {% if item.pdf %}
              <a href="{{ url_for('uploaded_file', filename='pdfs/' + item.pdf) }}" target="_blank">View Document</a>
            {% endif %}
          </div>
        {% endfor %}
      </section>
    {% endfor %}
  </main>

  <script>
    const toggle = document.getElementById('theme-toggle');
    const body = document.body;
    const sidebar = document.getElementById('sidebar');
    const menu = document.getElementById('menu-toggle');

    // Theme toggle
    toggle.onclick = () => {
      const mode = body.classList.toggle('dark') ? 'dark' : 'light';
      localStorage.setItem('theme', mode);
    };

    // Apply saved theme
    if (localStorage.getItem('theme') === 'dark') {
      body.classList.add('dark');
    }

    // Sidebar toggle
    menu.onclick = () => sidebar.classList.toggle('open');
  </script>

</body>
</html>
